From 764e620691fac9b910b0c02dc56d0b751e798d9e Mon Sep 17 00:00:00 2001
From: Marinus Schraal <mschraal@gnome.org>
Date: Sun, 13 Aug 2017 17:29:47 +0200
Subject: [PATCH] stuff

---
 libide/meson.build              | 2 +-
 plugins/command-bar/meson.build | 1 +
 plugins/devhelp/meson.build     | 1 +
 plugins/terminal/meson.build    | 1 +
 4 files changed, 4 insertions(+), 1 deletion(-)

diff --git a/libide/meson.build b/libide/meson.build
index ec91c81b..1b313d57 100644
--- a/libide/meson.build
+++ b/libide/meson.build
@@ -651,6 +651,7 @@ libide = shared_library('ide-' + libide_api_version,
      link_args: [ '-Wl,--version-script,' + join_paths(meson.current_source_dir(), 'ide.map') ],
        install: true,
    install_dir: pkglibdir,
+ install_rpath: pkglibdir_abs,
 )
 
 libide_dep = declare_dependency(
@@ -676,7 +677,6 @@ libide_plugin_dep = declare_dependency(
                          libgd_dep,
                          libgio_dep,
                          libgtk_dep,
-                         libgd_dep,
                          libgtksource_dep,
                          libtemplate_glib_dep,
                          libjson_glib_dep,
diff --git a/plugins/command-bar/meson.build b/plugins/command-bar/meson.build
index 1ce10b74..28ec5a77 100644
--- a/plugins/command-bar/meson.build
+++ b/plugins/command-bar/meson.build
@@ -42,6 +42,7 @@ shared_module('command-bar', command_bar_sources,
   link_depends: plugin_link_deps,
   install: true,
   install_dir: plugindir,
+  install_rpath: pkglibdir_abs,
 )
 
 configure_file(
diff --git a/plugins/devhelp/meson.build b/plugins/devhelp/meson.build
index 26c752b7..c87cdd61 100644
--- a/plugins/devhelp/meson.build
+++ b/plugins/devhelp/meson.build
@@ -33,6 +33,7 @@ shared_module('devhelp-plugin', devhelp_sources,
   link_depends: plugin_link_deps,
        install: true,
    install_dir: plugindir,
+ install_rpath: pkglibdir_abs,
 )
 
 configure_file(
diff --git a/plugins/terminal/meson.build b/plugins/terminal/meson.build
index a59dc7b6..699bc5dc 100644
--- a/plugins/terminal/meson.build
+++ b/plugins/terminal/meson.build
@@ -39,6 +39,7 @@ shared_module('terminal', terminal_sources,
   link_depends: plugin_link_deps,
   install: true,
   install_dir: plugindir,
+  install_rpath: pkglibdir_abs,
 )
 
 configure_file(
-- 
2.13.0

